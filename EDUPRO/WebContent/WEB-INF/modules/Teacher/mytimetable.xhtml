<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">

<h:form id="myttForm">
<div style="width: 800px" align="center">
	<table width="100%" cellspacing="2" cellpadding="2">
	<tr>
		<td align="left">
			<table>
				<tr>
					<td valign="top" align="left">
						<p>
							<span style="font-size:30px;font-weight:bold;color:#888;">My Timetable</span><br/>
							<span style="font-size:16px;">View your timetable</span>
						</p>
					</td>
					<td valign="bottom" align="right">
						<a href="#" onclick="history.back(-1);return false;"><img src="images/back.png" style="float: right;" /></a>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<h:graphicImage url="/images/content_header_img_bk.jpg" width="100%" />
						<div style="height:1.8em;margin:0;padding:0;width:100%">
							<ul style="float:right;margin:0 0 0 0;padding:0;">
								<!-- <li style="background-color:#000000;color:#fff;float:left;font-size:1.0em;height:1.8em;list-style-type:none;margin:0 0 0 10px;padding:0;text-align:center;width:100px;">
									<a:commandLink onclick="#{rich:component('newRefMP')}.show();" styleClass="image-command-link">Add new</a:commandLink>
								</li> -->
							</ul>
						</div>
					</td>
				</tr>
				<tr>
				<td colspan="2">
					<rich:panel rendered="#{timetableBean.days2.size() > 0}">
						<f:facet name="header"><h:outputText value="Showing your timetable" /></f:facet>
						<table width="100%">
							<tr valign="top">
								<td width="100%">
	            					<a4j:outputPanel id="tablePanel">
	            					<rich:dataTable id="ttable"
	                    				onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
	                    				onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
	                    				cellpadding="0" cellspacing="0" 
	                    				width="100%" border="0" var="dayTiming" value="#{timetableBean.days2}" rendered="#{timetableBean.days2.size() > 0}">
	                
					                    <rich:column>
					                    	<f:facet name="header"><h:outputText value="Day" /></f:facet>
											<h:outputText value="#{dayTiming.day_nm}" />
					                    </rich:column>
					                    <rich:column style="width:85%">
					                    	<f:facet name="header"><h:outputText value="Table" /></f:facet>
											<rich:dataGrid value="#{dayTiming.ttable}" var="e" columns="#{dayTiming.ttable.size()}" width="100%" rendered="#{timetableBean.days2.size() > 0}">
					                    		<rich:panel style="width:80px;height:80px">
													<f:facet name="header">
														<h:outputText value="HH: #{e.start_time_hr} MM: #{e.start_time_min}" />
													</f:facet>
													
													<h:outputText style="height:50px;width:50px;background:red" value="BREAK" rendered="#{e.brk}" />
							                    	
							                    	<h:outputText value="#{e.class_nm} (#{e.sub_nm})" rendered="#{e.class_id > 0}" />
							                    	
					                            </rich:panel>
											</rich:dataGrid>
					                    </rich:column>
				                    </rich:dataTable>
				                    </a4j:outputPanel>
	            				</td>
	            			</tr>
	            		</table>
            		</rich:panel>
				</td>
			</tr>
			</table>
		</td>
	</tr>
	</table>
</div>
</h:form>
</ui:composition>